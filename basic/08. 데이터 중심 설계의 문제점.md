# 데이터 중심 설계의 문제점

> 책 160p

관계형 데이터베이스를 사용하고 그것을 엔티티로 표현할 때 크게 `데이터 중심`의 개발자와 `객체지향 설계`를 의식하는 개발자로 나뉠 수 있다.
예를들어 관계형 데이터베이스에서는 외래키가 있지만, 객체는 각각의 `역할`과 `책임`이 있고 관련 있는 객체끼리 참조하도록 설계해야 한다.

__따라서 외래키 대신 참조를 사용하도록 해야 한다.__

참조를 사용해야 객체 그래프를 탐색할 수 있고, 객체지향의 특성도 살릴 수 있다.

- 외래 키 사용

```java
Order order = em.find(Order.class, orderId);
// 외래키로 다시 조회
Member member = em.find(Member.class, order.getMemberId());
```

- 참조 사용

```java
Order order = em.find(Order.class, orderId);
Member member = order.getMember();
```

JPA 에서는 객체의 참조와 테이블의 외래 키를 매핑해서 객체에서는 참조를 사용하고 테이블에서는 외래 키를 사용할 수 있도록 한다.
